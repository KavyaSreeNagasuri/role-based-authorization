(this["webpackJsonprole-based-app_react"]=this["webpackJsonprole-based-app_react"]||[]).push([[0],{196:function(e,t,a){},201:function(e,t,a){},202:function(e,t,a){"use strict";a.r(t);var s=a(1),c=a.n(s),n=a(41),r=a.n(n),l=a(7),i=(a(91),a(92),a(4)),o=a(3),d=a(15),j=a(16),b=(a(196),"CHECK_USER"),h="LOG_OUT",m="ADD_LEAVE",x="APPROVE_LEAVE";var v=a(0);function u(){var e=Object(o.c)((function(e){return e.loginData})),t=e.isInvalidUser,a=e.loginStatus,s=Object(o.b)();return a?Object(v.jsx)(i.a,{to:"/home/dashboard"}):Object(v.jsx)("div",{className:"jumbotron",children:Object(v.jsxs)("div",{className:"container",children:[Object(v.jsx)("h2",{className:"login-title",children:"Leave Tracking Application"}),Object(v.jsx)("div",{className:"row",children:Object(v.jsxs)("div",{className:"col-md-4 col-md-offset-4 col-sm-6 col-sm-offset-3 col-xs-8 col-xs-offset-2 login-container",children:[Object(v.jsx)("div",{className:"alert alert-danger ".concat(t?"invalid-alert-visible":"invalid-alert"),children:"Invalid Username (or) Password"}),Object(v.jsx)(d.c,{initialValues:{username:"",password:""},validationSchema:j.c().shape({username:j.d().email("Enter valid username").required("Username is required"),password:j.d().min(8,"Password should be atleast 8 characters long").required("Password is required")}),onSubmit:function(e,t){var a=t.resetForm;setTimeout((function(){s({type:b,payload:e}),a()}),1e3)},children:function(e){var t=e.errors,a=e.touched,s=e.isSubmitting;return Object(v.jsxs)(d.b,{children:[Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Username"}),Object(v.jsx)(d.a,{name:"username",type:"text",className:"form-control"}),a.username&&t.username&&Object(v.jsx)("div",{className:"error-message",children:t.username})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Password"}),Object(v.jsx)(d.a,{name:"password",type:"password",className:"form-control"}),a.password&&t.password&&Object(v.jsx)("div",{className:"error-message",children:t.password})]}),Object(v.jsx)("div",{className:"form-group",children:Object(v.jsx)("button",{type:"submit",className:"btn btn-primary btn-block",disabled:s,children:"Login"})})]})}})]})})]})})}function O(e){var t=Object(o.c)((function(e){return e.loginData})).loginStatus;return Object(v.jsx)(c.a.Fragment,{children:t?Object(v.jsx)(i.a,{to:"/home/dashboard"}):Object(v.jsx)(u,{})})}function p(){var e=Object(o.c)((function(e){return e.loginData})).loggedInDetails,t=Object(o.c)((function(e){return e.leavesData})),a=t.filter((function(e){return"Pending"===e.status})),s=t.filter((function(e){return"Approved"===e.status}));return Object(v.jsxs)("div",{className:"jumbotron",children:[Object(v.jsx)("h3",{className:"login-title",children:"Leave Tracking Application Dashboard"}),Object(v.jsx)("div",{className:"login-title",children:"Welcome, ".concat(e.name)}),Object(v.jsx)("div",{className:"container dashboard-container",children:"ADMIN"===e.role&&Object(v.jsx)("div",{className:"row",children:Object(v.jsxs)("div",{className:"col-xs-6 col-xs-offset-4",children:[Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("label",{className:"col-xs-6",children:"Number of Pending Leaves"}),Object(v.jsxs)("span",{className:"col-xs-6",children:[": ",a.length]})]}),Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("label",{className:"col-xs-6",children:"Number of Approved Leaves"}),Object(v.jsxs)("span",{className:"col-xs-6",children:[": ",s.length]})]}),Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("label",{className:"col-xs-6",children:"Last LoggedIn"}),Object(v.jsxs)("span",{className:"col-xs-6",children:[": ",e.lastLogged?e.lastLogged:"Not Available"]})]})]})})})]})}var g=a(13),N=a.n(g);function D(){var e=Object(o.c)((function(e){return e.leavesData})),t=Object(o.b)(),a=e.filter((function(e){return"Pending"===e.status})),s=function(e){setTimeout((function(){t({payload:e,type:x})}),2e3)};return Object(v.jsx)("div",{className:"jumbotron",children:a&&a.length>0?Object(v.jsxs)(c.a.Fragment,{children:[Object(v.jsx)("h3",{className:"login-title",children:"List of Pending Leaves"}),Object(v.jsx)("div",{className:"container pending-leaves-container",children:Object(v.jsx)("div",{className:"table-responsive-xs",children:Object(v.jsxs)("table",{className:"table",children:[Object(v.jsx)("thead",{className:"thead-dark",children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{scope:"col",children:"#"}),Object(v.jsx)("th",{scope:"col",children:"Created By"}),Object(v.jsx)("th",{scope:"col",children:"Leave Type"}),Object(v.jsx)("th",{scope:"col",children:"From Date"}),Object(v.jsx)("th",{scope:"col",children:"To Date"}),Object(v.jsx)("th",{scope:"col",children:"Leave Count"}),Object(v.jsx)("th",{scope:"col",children:"Actions"})]})}),Object(v.jsx)("tbody",{children:a.map((function(e,t){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{scope:"row",children:t+1}),Object(v.jsx)("td",{children:e.createdBy}),Object(v.jsx)("td",{children:e.leaveType}),Object(v.jsx)("td",{children:N()(e.startDate,"YYYY-MM-DD").format("DD/MM/YYYY")}),Object(v.jsx)("td",{children:N()(e.endDate,"YYYY-MM-DD").format("DD/MM/YYYY")}),Object(v.jsx)("td",{children:e.leaveCount}),Object(v.jsx)("td",{children:Object(v.jsx)("button",{onClick:function(){return s(e)},className:"btn btn-sm btn-primary",children:"Approve"},"approve_".concat(e.createdAt))})]},"pending-leave-".concat(t))}))})]})})})]}):Object(v.jsx)("div",{className:"login-title pending-leaves-container",children:Object(v.jsx)("h3",{children:"No Pending Leaves to be approved"})})})}function f(){var e=Object(o.c)((function(e){return e.leavesData})).filter((function(e){return"Approved"===e.status}));return Object(v.jsx)("div",{className:"jumbotron",children:e&&e.length>0?Object(v.jsxs)(c.a.Fragment,{children:[Object(v.jsx)("h3",{className:"login-title",children:"List of Approved Leaves"}),Object(v.jsx)("div",{className:"container approved-leaves-container",children:Object(v.jsx)("div",{className:"table-responsive-xs",children:Object(v.jsxs)("table",{className:"table",children:[Object(v.jsx)("thead",{className:"thead-dark",children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{scope:"col",children:"#"}),Object(v.jsx)("th",{scope:"col",children:"Created By"}),Object(v.jsx)("th",{scope:"col",children:"Leave Type"}),Object(v.jsx)("th",{scope:"col",children:"From Date"}),Object(v.jsx)("th",{scope:"col",children:"To Date"}),Object(v.jsx)("th",{scope:"col",children:"Leave Count"})]})}),Object(v.jsx)("tbody",{children:e.map((function(e,t){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{scope:"row",children:t+1}),Object(v.jsx)("td",{children:e.createdBy}),Object(v.jsx)("td",{children:e.leaveType}),Object(v.jsx)("td",{children:N()(e.startDate,"YYYY-MM-DD").format("DD-MM-YYYY")}),Object(v.jsx)("td",{children:N()(e.endDate,"YYYY-MM-DD").format("DD-MM-YYYY")}),Object(v.jsx)("td",{children:e.leaveCount})]},"approved-leave-".concat(t))}))})]})})})]}):Object(v.jsx)("div",{className:"login-title pending-leaves-container",children:Object(v.jsx)("h3",{children:"No Approved Leaves"})})})}a(201);var y=a(45),w=a(14),L=a(25);function Y(){var e=Object(o.c)((function(e){return e.loginData})).loggedInDetails,t=Object(s.useState)(!1),a=Object(L.a)(t,2),c=a[0],n=a[1],r=Object(o.b)();return Object(v.jsxs)("div",{className:"jumbotron",children:[Object(v.jsx)("h3",{className:"login-title",children:"Apply for New Leave"}),Object(v.jsx)("div",{className:"container new-leave-container",children:Object(v.jsx)(d.c,{initialValues:{leaveType:"",startDate:"",endDate:"",leaveCount:0},validationSchema:j.c().shape({leaveType:j.d().required("Please select the leave type"),startDate:j.a().required("Start date is required"),endDate:j.a().required("End date is required"),leaveCount:j.b().notRequired()}),onSubmit:function(t,a){var s=a.resetForm,c=e.name,l=e.username;r({payload:Object(w.a)(Object(w.a)({username:l},t),{},{createdBy:c}),type:m}),n(!0),s(),setTimeout((function(){n(!1)}),1e4)},children:function(e){var t=e.errors,a=e.touched,s=e.setFieldValue,n=e.setFieldError,r=e.values,l=e.isValid,i=function(e){var t=e.target,a=t.name,c=t.value,n=Object(w.a)(Object(w.a)({},r),{},Object(y.a)({},a,c));if(s(a,c),"startDate"===a||"endDate"===a){var l=new Date(n.endDate),i=new Date(n.startDate),o=Math.round(Math.abs((l-i)/864e5));i.getTime()<=l.getTime()&&o+1!==r.leaveCount&&s("leaveCount",o+1)}};return a.endDate&&a.startDate&&!t.startDate&&new Date(r.startDate).getTime()>new Date(r.endDate).getTime()&&n("startDate","Start Date should be less than End Date"),Object(v.jsxs)(d.b,{className:"col-xs-8 col-xs-offset-2",children:[Object(v.jsx)("div",{className:"alert alert-success ".concat(c?"invalid-alert-visible":"invalid-alert"),children:"Leave Requested Successfully"}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("label",{className:"col-xs-4",children:"Leave Type"}),Object(v.jsx)("div",{className:"col-xs-8",children:Object(v.jsxs)("select",{name:"leaveType",value:r.leaveType,onChange:i,className:"form-control",children:[Object(v.jsx)("option",{value:"",children:"-- Select Type --"}),Object(v.jsx)("option",{value:"Earned Leave",children:"Earned Leave"}),Object(v.jsx)("option",{value:"Sick Leave",children:"Sick Leave"})]})})]}),Object(v.jsx)("div",{className:"row",children:Object(v.jsx)("div",{className:"col-xs-6 col-xs-offset-4",children:a.leaveType&&t.leaveType&&Object(v.jsx)("div",{className:"error-message",children:t.leaveType})})})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("label",{className:"col-xs-4",children:"Start Date"}),Object(v.jsx)("div",{className:"col-xs-8",children:Object(v.jsx)(d.a,{name:"startDate",type:"date",className:"form-control",onChange:i})})]}),Object(v.jsx)("div",{className:"row",children:Object(v.jsx)("div",{className:"col-xs-6 col-xs-offset-4",children:a.startDate&&t.startDate&&Object(v.jsx)("div",{className:"error-message",children:t.startDate})})})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("label",{className:"col-xs-4",children:"End Date"}),Object(v.jsx)("div",{className:"col-xs-8",children:Object(v.jsx)(d.a,{name:"endDate",type:"date",className:"form-control",onChange:i})})]}),Object(v.jsx)("div",{className:"row",children:Object(v.jsx)("div",{className:"col-xs-6 col-xs-offset-4",children:a.endDate&&t.endDate&&Object(v.jsx)("div",{className:"error-message",children:t.endDate})})})]}),Object(v.jsx)("div",{className:"form-group",children:Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("label",{className:"col-xs-4",children:"Number of Leaves"}),Object(v.jsx)("div",{className:"col-xs-8",children:Object(v.jsx)(d.a,{name:"leaveCount",type:"number",className:"form-control",disabled:!0})})]})}),Object(v.jsx)("div",{className:"form-group",children:Object(v.jsxs)("div",{className:"row text-right",children:[Object(v.jsx)("button",{type:"reset",className:"btn btn-link",children:"Cancel"}),Object(v.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:!l,children:"Submit"})]})})]})}})})]})}function S(){var e=Object(o.c)((function(e){return e.loginData})).loggedInDetails,t=Object(o.c)((function(e){return e.leavesData})).filter((function(t){return t.username===e.username})).sort((function(e,t){return new Date(e.startDate)-new Date(t.startDate)}));return Object(v.jsx)("div",{className:"jumbotron",children:t&&t.length>0?Object(v.jsxs)(c.a.Fragment,{children:[Object(v.jsx)("h3",{className:"login-title",children:"List of Existing Leaves"}),Object(v.jsx)("div",{className:"container existing-leaves-container",children:Object(v.jsx)("div",{className:"table-responsive-xs",children:Object(v.jsxs)("table",{className:"table",children:[Object(v.jsx)("thead",{className:"thead-dark",children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{scope:"col",children:"#"}),Object(v.jsx)("th",{scope:"col",children:"Leave Type"}),Object(v.jsx)("th",{scope:"col",children:"From Date"}),Object(v.jsx)("th",{scope:"col",children:"To Date"}),Object(v.jsx)("th",{scope:"col",children:"Leave Count"}),Object(v.jsx)("th",{scope:"col",children:"Status"})]})}),Object(v.jsx)("tbody",{children:t.map((function(e,t){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{scope:"row",children:t+1}),Object(v.jsx)("td",{children:e.leaveType}),Object(v.jsx)("td",{children:N()(e.startDate,"YYYY-MM-DD").format("DD-MM-YYYY")}),Object(v.jsx)("td",{children:N()(e.endDate,"YYYY-MM-DD").format("DD-MM-YYYY")}),Object(v.jsx)("td",{children:e.leaveCount}),Object(v.jsx)("td",{children:e.status})]},"my-leave-".concat(t))}))})]})})})]}):Object(v.jsxs)("div",{className:"login-title existing-leaves-container",children:[Object(v.jsx)("h3",{children:"No Existing Leaves for this user"}),Object(v.jsxs)("div",{children:[Object(v.jsx)(l.b,{to:"/home/new",children:"Click here"})," to create a new leave"]})]})})}function M(){var e=Object(o.c)((function(e){return e.loginData})),t=e.loginStatus,a=e.loggedInDetails,s=Object(o.b)();return t?Object(v.jsxs)("div",{children:[Object(v.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark home-nav",children:[Object(v.jsxs)("div",{className:"nav navbar-nav",children:[Object(v.jsx)(l.c,{to:"/home/dashboard",className:"nav-link",children:"Dashboard"}),"ADMIN"===a.role&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(l.c,{to:"/home/pending",className:"nav-link",children:"Pending Leave Requests"}),Object(v.jsx)(l.c,{to:"/home/approved",className:"nav-link",children:"Approved Leaves"})]}),"USER"===a.role&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(l.c,{to:"/home/existing",className:"nav-link",children:"My Leaves"}),Object(v.jsx)(l.c,{to:"/home/new",className:"nav-link",children:"New Leave"})]})]}),Object(v.jsx)("div",{className:"nav navbar-nav navbar-right",children:Object(v.jsxs)("button",{className:"nav-link btn-link",onClick:function(){return s({type:h})},children:[Object(v.jsx)("i",{className:"material-icons",children:"logout"}),"Logout"]})})]}),Object(v.jsxs)(i.d,{children:[Object(v.jsx)(i.b,{exact:!0,path:"/home/dashboard",component:p}),Object(v.jsx)(i.b,{exact:!0,path:"/home/pending",component:D}),Object(v.jsx)(i.b,{exact:!0,path:"/home/approved",component:f}),Object(v.jsx)(i.b,{exact:!0,path:"/home/new",component:Y}),Object(v.jsx)(i.b,{exact:!0,path:"/home/existing",component:S}),Object(v.jsx)(i.a,{from:"/home/",to:"/home/dashboard"})]})]}):Object(v.jsx)(i.a,{to:"/login"})}var T=Object(i.g)((function(){return Object(v.jsx)("div",{className:"App",children:Object(v.jsxs)(i.d,{children:[Object(v.jsx)(i.b,{exact:!0,path:"/login",component:O}),Object(v.jsx)(i.b,{path:"/home",component:M}),Object(v.jsx)(i.a,{from:"/",to:"/login"})]})})})),A=a(27),k=a(9),C=[{username:"breannawilkerson@gmail.com",leaveType:"Earned Leave",startDate:"2021-01-09",endDate:"2021-01-13",leaveCount:4,createdBy:"Breanna Y. Wilkerson",status:"Approved",createdAt:1613332310473},{username:"bernardguthrie@gmail.com",leaveType:"Sick Leave",startDate:"2021-02-04",endDate:"2021-02-05",leaveCount:2,createdBy:"Bernard B. Guthrie",status:"Pending",createdAt:1613332420653},{username:"stevenwilcox@gmail.com",leaveType:"Sick Leave",startDate:"2021-02-10",endDate:"2021-02-11",leaveCount:2,createdBy:"Steven S. Wilcox",status:"Pending",createdAt:1613323220567},{username:"stevenwilcox@gmail.com",leaveType:"Earned Leave",startDate:"2021-01-16",endDate:"2021-01-17",leaveCount:2,createdBy:"Steven S. Wilcox",status:"Pending",createdAt:1613332345623},{username:"brielleoneill@gmail.com",leaveType:"Earned Leave",startDate:"2021-01-15",endDate:"2021-01-20",leaveCount:6,createdBy:"Brielle F. Oneill",status:"Approved",createdAt:1613332337845},{username:"breannawilkerson@gmail.com",leaveType:"Sick Leave",startDate:"2021-02-09",endDate:"2021-02-10",leaveCount:2,createdBy:"Breanna Y. Wilkerson",status:"Pending",createdAt:1613332378326}],E={users:[{id:1,name:"Chiquita F. Jacobs",username:"chiquitajacobs@gmail.com",password:"chiquitaf",isLogged:!1,lastLogged:"",role:"ADMIN"},{id:2,name:"Breanna Y. Wilkerson",username:"breannawilkerson@gmail.com",password:"breannay",isLogged:!1,lastLogged:"",role:"USER"},{id:3,name:"Brielle F. Oneill",username:"brielleoneill@gmail.com",password:"briellef",isLogged:!1,lastLogged:"",role:"USER"},{id:4,name:"Bernard B. Guthrie",username:"bernardguthrie@gmail.com",password:"bernardb",isLogged:!1,lastLogged:"",role:"USER"},{id:5,name:"Steven S. Wilcox",username:"stevenwilcox@gmail.com",password:"stevensw",isLogged:!1,lastLogged:"",role:"USER"}],loginStatus:!1,loggedInDetails:{},isInvalidUser:!1},B=Object(A.b)({loginData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:var a=t.payload,s=a.username,c=a.password,n=e.users,r=n.findIndex((function(e){return e.username===s&&e.password===c}));if(r>-1){var l=Object(w.a)({},n[r]);return n[r].lastLogged=N()().format("MMMM Do YYYY, h:mm:ss a"),{users:n,loggedInDetails:l,loginStatus:!0,isInvalidUser:!1}}return{users:n,loggedInDetails:{},loginStatus:!1,isInvalidUser:!0};case h:return Object(w.a)(Object(w.a)({},E),{},{users:e.users});default:return e}},leavesData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return e.concat(Object(w.a)(Object(w.a)({},t.payload),{},{status:"Pending",createdAt:Date.now()}));case x:var a=Object(k.a)(e),s=a.findIndex((function(e){return e.createdAt===t.payload.createdAt}));return s>-1&&(a[s].status="Approved"),a;default:return e}}}),I=Object(A.c)(B);r.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(l.a,{basename:"/",children:Object(v.jsx)(o.a,{store:I,children:Object(v.jsx)(T,{})})})}),document.getElementById("root"))},91:function(e,t,a){},92:function(e,t,a){}},[[202,1,2]]]);
//# sourceMappingURL=main.e7a7c196.chunk.js.map